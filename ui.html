<html>
</<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <link rel="stylesheet" href="style.css"></link>
    <meta charset="utf-8">
    <title>Style Transfer</title>
  </head>
  <body>
    <div class="container">
      <form method="post" action="http://localhost:8080/style_transfer" enctype="multipart/form-data" id="styleTransferForm">
          <div class='preview'>
              <img src="" id="content_img" width="100" height="100">
          </div>
          <div >
              Content Image: <input type="file" id="content_img_input" name="content_img" />
          </div>
          <div class='preview'>
              <img src="" id="style_img" width="100" height="100">
          </div>
          <div >
              Style Image: <input type="file" id="style_img_input" name="style_img" />
          </div>
          <div >
              Enter the email to which you want the result to be sent: <input type="email" id="email" name="email" />
          </div>
          <button type="submit">Submit</button>
      </form>
    </div>
    <script>
      function updatePreviewImage(input, previewImage) {
        if (input.files && input.files[0]) {
          previewImage.src = URL.createObjectURL(input.files[0]);
        }
      }

      function listenToImageChange(input, previewImage) {
        input.addEventListener("change", () => {
          updatePreviewImage(input, previewImage);
        });
        window.addEventListener("pageshow", () => {
          updatePreviewImage(input, previewImage);
        });
      }

      listenToImageChange(document.getElementById("content_img_input"), document.getElementById("content_img"));
      listenToImageChange(document.getElementById("style_img_input"), document.getElementById("style_img"));
    </script>
  </body>
</html>
